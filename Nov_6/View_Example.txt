Views 

Can we store any select command data in any database object ???

A view is a virtual table, which allows you to store the select command as an object,  A view will not contains any data of its own, only the select command will be stored in that. 

syntax : 

create view view_name
as
   select_command


Example : 

use jsf40;

Create view vwEmployData
as
  Select empno,ename,job,sal from Emp;

select * from vwEmployData;


-- How to make view with multiple tables 

create view vwDeptData
AS
select D.Deptno,Dname,Empno,Ename,Job,Sal
from Dept D INNER JOIN EMP E on D.Deptno = E.Deptno;

select * from vwDeptData;

create view vwAgentData
as
   select A.AgentId,firstName,LastName,City,SSN,P.PolicyID,
	AppNumber,ModalPremium,AnnualPremium
	from Agent A INNER JOIN AgentPolicy AP ON
	A.AgentId = AP.AgentID INNER JOIN Policy P ON
	P.PolicyID = AP.PolicyID

select * from vwAgentData;

create view vwTask
AS
select Ed.Deptno,Ed.Empno,case when ed.rno = 1 then Ed.Dname else '"' end 'Dept',Ed.Ename,Ed.Sal,Ed.Comm,Ed.Rno
from 
(select D.Deptno,Empno,Dname,Ename,sal,comm,
ROW_NUMBER() OVER(Partition By Dname Order By Dname) Rno
from Dept D INNER JOIN Emp E ON D.Deptno=E.Deptno) ED;

select * from vwTask;
